import Head from 'next/head'
import Image from 'next/image'
import Layout from '../components/layout'
import React from 'react'
import Banner from "../components/banner";
import About from "../components/about";
import Portfolio from "../components/portfolio";
import Testimonial from "../components/testimonial";
import initFirebase from '../components/firebase/initFirebase';
import WriteFirebase from '../components/firestore/write'
import ReadFirebase from '../components/firestore/read'
import Log from "../components/log"
import { getUserFromCookie } from '../components/auth/userCookies'
import { useUserContext } from '../context/userContext'

const Home: React.FC = () => {
  initFirebase();
  const user = useUserContext();

  // console.log(user, '==> index');

  return (
    <div>
      <Head>
        {user && user.short_name ? (
          <title>Portfolio Of {user.short_name}</title>
        ) : (
          <title>Portfolio Of Someone</title>
        )}
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Layout>
        {user && user.short_name ? (
          <>
            <Banner shortName={user.short_name} profession={user.profession} />
            <About full_name={user.full_name} profession={user.profession} />
            <Portfolio />
            <Testimonial />
          </>
        ) : (
          <>
            <Banner />
            <About />
            <Portfolio />
            <Testimonial />
          </>
        )
        }
        <Log />
      </Layout>
    </div>
  )
}
export default Home